<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>7-Day and 30-Day Results Graphs</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  .chart-container {
    display: flex;
    justify-content: space-around;
    align-items: center;
    margin-bottom: 20px;
  }
  .chart-box {
    width: 50%;
    text-align: center;
  }
  canvas {
    width: 100% !important;
    height: auto !important;
  }
</style>
</head>
<body>

<div class="chart-container">
  <div class="chart-box">
      <h3>NA 30-Day Results</h3>
      <canvas id="NA30DayChart"></canvas>
  </div>
  <div class="chart-box">
      <h3>NA 7-Day Results</h3>
      <canvas id="NA7DayChart"></canvas>
  </div>
</div>

<div class="chart-container">
  <div class="chart-box">
      <h3>SU 30-Day Results</h3>
      <canvas id="SU30DayChart"></canvas>
  </div>
  <div class="chart-box">
      <h3>SU 7-Day Results</h3>
      <canvas id="SU7DayChart"></canvas>
  </div>
</div>

<div class="chart-container">
  <div class="chart-box">
      <h3>BCE 30-Day Results</h3>
      <canvas id="BCE30DayChart"></canvas>
  </div>
  <div class="chart-box">
      <h3>BCE 7-Day Results</h3>
      <canvas id="BCE7DayChart"></canvas>
  </div>
</div>

<div class="chart-container">
  <div class="chart-box">
      <h3>IMO 30-Day Results</h3>
      <canvas id="IMO30DayChart"></canvas>
  </div>
  <div class="chart-box">
      <h3>IMO 7-Day Results</h3>
      <canvas id="IMO7DayChart"></canvas>
  </div>
</div>

<script>

function createChart(chartId, label, dataLabels, dataValues) {
    const ctx = document.getElementById(chartId).getContext('2d');
    new Chart(ctx, {
        type: 'line',
        data: {
            labels: dataLabels,
            datasets: [{
                label: label,
                data: dataValues,
                fill: false,
                borderColor: 'rgb(75, 192, 192)',
                tension: 0.1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: false
                }
            }
        }
    });
}

fetch('../jsons/dataset.json')
.then(response => response.json())
.then(data => {

    Object.entries(data).forEach(([key, value]) => {

        createChart(`${key}30DayChart`, `${key} 30-Day Results`, value.thirty_days[0], value.thirty_days[1]);

        createChart(`${key}7DayChart`, `${key} 7-Day Results`, value.seven_days[0], value.seven_days[1]);

    });
})
.catch(error => console.error('Error loading the dataset:', error));
</script>

</body>
</html>